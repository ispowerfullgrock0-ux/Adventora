<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Form Pemesanan Adventora</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="/css/booking.css">
</head>
<body class="subpage">

<header class="navbar" id="navbar">
  <div class="container nav-inner">
    <a class="brand" href="#home">
      <img src="/image/image2.png" alt="Adventora Logo" class="logo-img">
    </a>

    <nav class="nav-links" id="navLinks">
      <a href="index.html#home">Home</a>
      <a href="index.html#about">Mengapa Kami</a>
      <a href="index.html#packages">Paket</a>
      <a href="index.html#gallery">Armada</a>
      <a href="index.html#testimonials">Testimoni</a>
      <a href="index.html#contact">Kontak</a>
    </nav>

    <button class="nav-toggle" id="navToggle" aria-label="toggle menu">
      <i class="fas fa-bars"></i>
    </button>
  </div>
</header>

<main class="main-content">
  <section class="section booking-form-section">
    <div class="container grid-booking">

      <!-- FORM PEMESANAN -->
      <div class="booking-card form-step">
        <h2>1. Detail Perjalanan</h2>
        <form id="bookingForm">

          <!-- Jenis Paket -->
          <div class="form-row">
            <label for="package">Jenis Layanan <span class="required">*</span></label>
            <select id="package" name="package" required>
              <option value="">-- Pilih Layanan --</option>
              <option value="reguler">Reguler</option>
              <option value="vip">VIP carter/drop</option>
            </select>
          </div>

          <!-- ADDON PAKET -->
          <div class="form-row">
            <label for="addon">Paket Tambahan (Optional)<span class="required">*</span></label>
            <select id="addon" name="addon">
              <option value="">--Tidak Ada--</option>
              <option value="Bagasi Extra">Bagasi Extra</option>
            </select>
          </div>

          <!-- Rute manual -->
          <div class="form-row">
            <label for="directionInput">Rute Perjalanan <span class="required">*</span></label>
            <input type="text" id="directionInput" name="directionInput" placeholder="Cth: Jember - Jakarta" required>
          </div>

          <div class="form-row">
            <label for="date">Tanggal Keberangkatan <span class="required">*</span></label>
            <input id="date" name="date" type="date" required>
          </div>

          <div class="form-row">
            <label for="time">Perkiraan Jam Berangkat (Akan dikonfirmasi admin)</label>
            <input id="time" name="time" type="time">
          </div>

          <div class="form-row">
            <label for="passengers">Jumlah Penumpang <span class="required">*</span></label>
            <input id="passengers" name="passengers" type="number" min="1" value="1" required>
          </div>

          <hr>
          <h2>2. Data Pemesan</h2>

          <div class="form-row">
            <label for="name">Nama Pemesan <span class="required">*</span></label>
            <input id="name" name="name" type="text" placeholder="Cth: Budi" required>
          </div>

          <div class="form-row">
            <label for="phone">No. Handphone (WA) <span class="required">*</span></label>
            <input id="phone" name="phone" type="tel" placeholder="Cth: 081234567890" required>
          </div>

          <div class="form-row">
            <label for="pickup">Alamat Penjemputan <span class="required">*</span></label>
            <input id="pickup" name="pickup" type="text" placeholder="Cth: Jl. Tidar No. 115 Jember" required>
          </div>

          <div class="form-row">
            <label for="destination">Alamat Tujuan <span class="required">*</span></label>
            <input id="destination" name="destination" type="text" placeholder="Cth: Bandara Juanda, Surabaya" required>
          </div>

          <div class="form-row">
            <label for="luggage">Barang Bawaan (Opsional)</label>
            <input id="luggage" name="luggage" type="text" placeholder="Cth: 2 koper">
          </div>

          <button type="submit" class="btn primary large-btn cta-pulse" id="submitBooking">
            <i class="fas fa-arrow-right"></i> Kirim
          </button>

        </form>
      </div>

      <!-- RANGKUMAN -->
      <div class="booking-summary-card">
        <h2>Rangkuman</h2>
        <div class="summary-details">
          <p>Paket: <span id="summaryPackage">-----</span></p>
          <p>Addon: <span id="summaryAddon">Tidak ada</span></p>
          <p>Rute: <span id="summaryDirection">-----</span></p>
          <p>Tgl: <span id="summaryDate">Belum Dipilih</span></p>
          <p>Penumpang: <span id="summaryPassengers">-----</span></p>
          <p>Barang Bawaan: <span id="summaryLuggage">Tidak ada</span></p>
        </div>
      </div>

    </div>
  </section>
</main>

<script>
// ===== NAVBAR =====
const navbar = document.querySelector('.navbar');
const navToggle = document.getElementById('navToggle');
const navLinks = document.getElementById('navLinks');

window.addEventListener("scroll", () => {
  navbar.classList.toggle("scrolled", window.scrollY > 50);
});

navToggle.addEventListener("click", () => {
  navLinks.classList.toggle("open");
  const icon = navToggle.querySelector("i");
  icon.classList.toggle("fa-bars");
  icon.classList.toggle("fa-times");
});

// ===== UPDATE RINGKASAN =====
function updateSummary() {
  const pkgText = document.getElementById('package').selectedOptions[0]?.text || "-----";
  const addonText = document.getElementById('addon').selectedOptions[0]?.text || "Tidak ada";
  const dirText = document.getElementById('directionInput').value.trim() || "-----";
  const passengers = Number(document.getElementById('passengers').value) || 1;
  const date = document.getElementById('date').value || "Belum Dipilih";
  const luggage = document.getElementById('luggage').value || "Tidak ada";

  document.getElementById('summaryPackage').textContent = pkgText;
  document.getElementById('summaryAddon').textContent = addonText;
  document.getElementById('summaryDirection').textContent = dirText;
  document.getElementById('summaryPassengers').textContent = passengers + " Orang";
  document.getElementById('summaryDate').textContent = date;
  document.getElementById('summaryLuggage').textContent = luggage;
}

document.getElementById('bookingForm').addEventListener('input', updateSummary);
updateSummary();

// ===== KIRIM KE WHATSAPP =====
document.getElementById('bookingForm').addEventListener('submit', e => {
  e.preventDefault();

  const pkgText = document.getElementById('package').selectedOptions[0].text;
  const addonText = document.getElementById('addon').selectedOptions[0].text || "Tidak ada";
  const dirText = document.getElementById('directionInput').value.trim() || "-----";

  const name = document.getElementById('name').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const date = document.getElementById('date').value;
  const time = document.getElementById('time').value || '--';
  const passengers = document.getElementById('passengers').value;
  const pickup = document.getElementById('pickup').value.trim();
  const destination = document.getElementById('destination').value.trim();
  const luggage = document.getElementById('luggage').value.trim() || 'Tidak ada';

  const message = `
Halo Adventora, saya ingin pesan travel ${pkgText}!

*DETAIL PEMESANAN*

- Nama: ${name}
- HP/WA: ${phone}
- Jenis Layanan: ${pkgText}
- Paket Tambahan: ${addonText}
- Rute: ${dirText}
- Tanggal: ${date}
- Pukul: ${time}
- Penumpang: ${passengers} orang
- Penjemputan: ${pickup}
- Tujuan: ${destination}
- Barang bawaan: ${luggage}

Mohon konfirmasi selanjutnya ya!

Terima kasih!
www.adventora.web.id
  `;

  window.open(`https://wa.me/6281217241263?text=${encodeURIComponent(message)}`, "_blank");
});
</script>

</body>
</html>